[gd_scene load_steps=16 format=3 uid="uid://cayipnpewfcqb"]

[ext_resource type="Texture2D" uid="uid://dkr6l0rrm5sat" path="res://Map/bj-04.webp" id="1_so602"]
[ext_resource type="Texture2D" uid="uid://cfjiurg2r8tfi" path="res://Map/icon.svg" id="2_7ahun"]
[ext_resource type="Script" path="res://Map/Player_main.gd" id="2_einge"]
[ext_resource type="Texture2D" uid="uid://cnqdrnqilada8" path="res://Map/PlayerSpriteSheet.png" id="3_sagk0"]
[ext_resource type="Script" path="res://Map/Joystick.gd" id="4_aggs1"]
[ext_resource type="Script" path="res://Map/niveau1.gd" id="5_74mim"]
[ext_resource type="Script" path="res://Map/Niveau2.gd" id="7_53431"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_fbd66"]
radius = 18.0
height = 64.0

[sub_resource type="Animation" id="Animation_1taya"]
length = 0.8
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AssetPlayer:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 7]
}

[sub_resource type="Animation" id="Animation_n1ky7"]
resource_name = "flip_left"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AssetPlayer:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"update": 0,
"values": []
}

[sub_resource type="Animation" id="Animation_3oi1s"]
resource_name = "flip_up"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AssetPlayer:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [8, 9, 10, 11, 12, 13, 14]
}

[sub_resource type="Animation" id="Animation_1232c"]
resource_name = "idle_down"
length = 0.8
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AssetPlayer:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0, 1, 2, 3, 4, 5, 6, 7]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_btvd2"]
_data = {
"RESET": SubResource("Animation_1taya"),
"flip_left": SubResource("Animation_n1ky7"),
"flip_up": SubResource("Animation_3oi1s"),
"idle_down": SubResource("Animation_1232c")
}

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_u63si"]

[sub_resource type="CircleShape2D" id="CircleShape2D_62jet"]
radius = 41.2311

[node name="Map" type="Control"]
layout_mode = 3
anchors_preset = 0
offset_left = -7.0
offset_top = 12.0
offset_right = 1156.0
offset_bottom = 661.0

[node name="AssetMap" type="TextureRect" parent="."]
layout_mode = 1
offset_left = 1803.0
offset_top = -365.0
offset_right = 3123.0
offset_bottom = 2337.0
rotation = 1.5708
texture = ExtResource("1_so602")

[node name="Player_main" type="CharacterBody2D" parent="." groups=["Players"]]
position = Vector2(67, 163)
script = ExtResource("2_einge")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player_main"]
shape = SubResource("CapsuleShape2D_fbd66")

[node name="AssetPlayer" type="Sprite2D" parent="Player_main"]
z_index = 10
position = Vector2(1, 2)
scale = Vector2(1.37842, 1.3125)
texture = ExtResource("3_sagk0")
hframes = 48

[node name="AnimationPlayer" type="AnimationPlayer" parent="Player_main"]
libraries = {
"": SubResource("AnimationLibrary_btvd2")
}

[node name="AnimationTree" type="AnimationTree" parent="Player_main"]
tree_root = SubResource("AnimationNodeStateMachine_u63si")
anim_player = NodePath("../AnimationPlayer")

[node name="Joystick" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("4_aggs1")

[node name="Base" type="TextureRect" parent="Joystick"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Handle" type="TextureRect" parent="Joystick"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Niveaux" type="Node2D" parent="."]
position = Vector2(0, -12)

[node name="Niveau1" type="Area2D" parent="Niveaux" groups=["Niveaux"]]
position = Vector2(284, 188)
script = ExtResource("5_74mim")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Niveaux/Niveau1"]
shape = SubResource("CircleShape2D_62jet")

[node name="niveau2body" type="Sprite2D" parent="Niveaux/Niveau1"]
scale = Vector2(0.476562, 0.585938)
texture = ExtResource("2_7ahun")

[node name="Niveau2" type="Area2D" parent="Niveaux" groups=["Niveaux"]]
position = Vector2(100, 281)
script = ExtResource("7_53431")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Niveaux/Niveau2"]
rotation = 0.0174533
shape = SubResource("CircleShape2D_62jet")

[node name="niveau2body" type="Sprite2D" parent="Niveaux/Niveau2"]
scale = Vector2(0.476562, 0.585938)
texture = ExtResource("2_7ahun")

[node name="FeedBack" type="Label" parent="."]
layout_mode = 0
offset_left = 12.0
offset_top = 336.0
offset_right = 458.0
offset_bottom = 520.0

[connection signal="body_entered" from="Niveaux/Niveau1" to="Niveaux/Niveau1" method="_on_body_entered"]
[connection signal="body_entered" from="Niveaux/Niveau2" to="Niveaux/Niveau2" method="_on_body_entered"]
